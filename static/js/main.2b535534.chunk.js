(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{152:function(e,t,a){},154:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(16),r=a.n(n),l=(a(152),a(153),a(154),a(24)),o=a(15),i=function(){try{var e=JSON.parse(localStorage.getItem("allData")),t=JSON.parse(localStorage.getItem("decodedData")),a=JSON.parse(localStorage.getItem("permission")),s=localStorage.getItem("token");if(0!=e.length&&0!=t.length&&0!=a.length){var c=t.id,n=t.userName,r=e.decode.id,l=e.decode.userName,o=t.fullName,i=e.decode.fullName,d=t.designation,j=e.decode.designation;return c==r&&n==l&&i==o&&j==d&&{token:s,id:r,userName:l,permission:JSON.stringify(a),fullName:i,designation:j}}return!1}catch(b){return!1}},d=a(0);var j=function(e){var t=i().permission;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"leftside-menu",children:[Object(d.jsxs)(l.b,{to:"/",className:"logo text-center logo-light",children:[Object(d.jsx)("span",{className:"logo-lg",children:Object(d.jsx)("h3",{className:"text-white mt-2",children:"C-App"})}),Object(d.jsx)("span",{className:"logo-sm",children:Object(d.jsx)("h3",{className:"text-white mt-2",children:"C"})})]}),Object(d.jsxs)("div",{className:"h-100",id:"leftside-menu-container","data-simplebar":!0,children:[Object(d.jsxs)("ul",{className:"side-nav",children:[t&&"1"==JSON.parse(t)[0].admin_read&&Object(d.jsx)("li",{className:"side-nav-item",children:Object(d.jsxs)(l.b,{to:"/projects",className:"side-nav-link py-1",children:[Object(d.jsx)("i",{className:"fas fa-tasks"}),Object(d.jsx)("span",{children:"Projects "})]})}),t&&"1"==JSON.parse(t)[0].expense_read&&Object(d.jsxs)("section",{children:[Object(d.jsx)("li",{className:"side-nav-title side-nav-item",children:"Expense"}),Object(d.jsx)("li",{className:"side-nav-item",children:Object(d.jsxs)(l.b,{to:"/projectExpense",className:"side-nav-link py-1",children:[Object(d.jsx)("i",{className:"fas fa-money-check-alt"}),Object(d.jsx)("span",{children:"Project expense "})]})})]})]}),Object(d.jsxs)("div",{className:"help-box text-white text-center",children:[Object(d.jsx)("h5",{className:"mt-3",children:"Welcome to C-App"}),Object(d.jsx)("p",{className:"mb-3",children:"All right reserve muhammad sabbir 2021-22"})]})]})]})})};var b=function(e){var t=Object(o.g)();return Object(s.useEffect)((function(){0==i()&&t("/login")}),[]),0!=i()?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"wrapper",children:e.children})}):Object(d.jsxs)(d.Fragment,{children:[t("/login"),Object(d.jsx)("div",{className:"wrapper d-none",children:e.children})]})},x=a(6),m=a(12),p=a(53),u=Object(p.b)({name:"login",initialState:{test:"yes"},reducers:{test:function(e,t){e.test=t.payload}}}),h=a(27),O=a.n(h),g=a(36),f=function(e){g.b.error(e,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};var N=function(e){var t=Object(m.b)(),a=Object(o.g)(),c=Object(s.useState)(1),n=Object(x.a)(c,2),r=n[0],l=n[1];Object(s.useEffect)((function(){0==r&&a("/login")}),[r]);var j=function(){t(function(e){return function(t){try{localStorage.removeItem("allData"),localStorage.removeItem("decodedData"),localStorage.removeItem("permission"),localStorage.removeItem("token"),e(0)}catch(a){}}}(l))};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"navbar-custom",children:[Object(d.jsx)("ul",{className:"list-unstyled topbar-menu float-end mb-0",children:Object(d.jsxs)("li",{className:"dropdown notification-list",children:[Object(d.jsxs)("a",{className:"nav-link  dropdown-toggle nav-user arrow-none me-0","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"false","aria-expanded":"false",children:[Object(d.jsx)("span",{className:"account-user-avatar",children:Object(d.jsx)("i",{className:"fas fa-user"})}),Object(d.jsxs)("span",{className:"",children:[Object(d.jsx)("span",{className:"account-user-name",children:i()&&i().fullName.slice(0,8)+".."}),Object(d.jsx)("span",{className:"account-position",children:i()&&i().designation})]})]}),Object(d.jsxs)("div",{className:"dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown",children:[Object(d.jsx)("div",{className:" dropdown-header noti-title",children:Object(d.jsx)("h6",{className:"text-overflow m-0",children:"Welcome to C-App"})}),Object(d.jsxs)("a",{onClick:function(e){return j()},href:"#",className:"dropdown-item notify-item",children:[Object(d.jsx)("i",{className:"mdi mdi-logout me-1"}),Object(d.jsx)("span",{children:"Logout"})]})]})]})}),Object(d.jsx)("button",{className:"menuBar button-menu-mobile open-left",children:Object(d.jsx)("i",{className:" fas fa-bars"})})]})})};var y=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"content-page",children:Object(d.jsx)("div",{className:"content",children:e.children})})})},v=a(300),S=a(301),w=function(){try{localStorage.removeItem("allData"),localStorage.removeItem("decodedData"),localStorage.removeItem("permission"),localStorage.removeItem("token")}catch(e){}};var R=a(3),D=a(42),F=a(311),C=a(131),E=a(310),_=a(315),A=a(312),T=a(306),k=a(313),M=a(314),I=a(302),P=a(132),L=a.n(P),U=a(133),B=a.n(U),G=a(309);var q=function(e){var t=Object(o.g)(),a=Object(D.a)(),n=a.register,r=a.handleSubmit,l=a.reset,i=a.formState.errors,j=Object(s.useState)(0),b=Object(x.a)(j,2),p=b[0],h=b[1],N=Object(m.b)(),y=c.a.useState({amount:"",showPassword:!1}),w=Object(x.a)(y,2),P=w[0],U=w[1];return Object(s.useEffect)((function(){0!=p&&t("/")}),[p]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(v.a,{children:[Object(d.jsx)(S.a,{className:"d-flex align-items-center justify-content-center",children:Object(d.jsx)(F.a,{className:"mt-md-5 pt-md-5 mt-2",children:Object(d.jsxs)(S.a,{className:"d-flex align-items-center",children:[Object(d.jsx)(C.a,{lg:6,md:6,sm:12,xs:12,children:Object(d.jsxs)("div",{className:"pt-3 px-lg-3 mx-lg-3 pb-1 text-center",children:[Object(d.jsx)("h4",{className:"text-center text-dark",children:"Welcome"}),Object(d.jsx)("i",{className:"text-center fa-2x text-dark fas fa-user-lock"}),Object(d.jsxs)(E.a,{id:"loginForm",className:"mx-4 mt-3 ",onSubmit:r((function(e,t){N(function(e){return function(a){var s=e.data,c=e.setLogStatus;O.a.post("https://constructionapi.sabbirinfo.com/login",s).then((function(e){200==e.status?(localStorage.setItem("allData",JSON.stringify(e.data)),localStorage.setItem("token",e.data.token),localStorage.setItem("decodedData",JSON.stringify(e.data.decode)),localStorage.setItem("permission",JSON.stringify(e.data.permission)),c((function(e){return e+1})),a(u.actions.test(e.data))):f("user not found !!")})).catch((function(e){try{404==e.response.status&&f("user not found !!"),console.log(e)}catch(t){f("some thing went wrong!!")}}))}}({data:e,setLogStatus:h})),l(),t.target.reset()})),children:[Object(d.jsxs)(I.a,{className:"w-100",children:[Object(d.jsx)(G.a,Object(R.a)({label:"User name",className:"w-100",id:"standard-size-small",size:"small"},n("userName",{required:!0,minLength:3,maxLength:16}))),i.userName&&Object(d.jsxs)("span",{className:"text-danger",children:["required"==i.userName.type&&Object(d.jsx)("span",{children:"user name required"}),"minLength"==i.userName.type&&Object(d.jsx)("span",{children:"user name at least 3 char."}),"maxLength"==i.userName.type&&Object(d.jsx)("span",{children:"user name maximum 16 char."})]})]}),Object(d.jsxs)(I.a,{className:"w-100 mt-2",children:[Object(d.jsx)(k.a,{htmlFor:"standard-adornment-password",children:"Password"}),Object(d.jsx)(T.a,Object(R.a)({className:"w-100",id:"standard-adornment-password",type:P.showPassword?"text":"password",endAdornment:Object(d.jsx)(M.a,{position:"end",children:Object(d.jsx)(A.a,{"aria-label":"toggle password visibility",onClick:function(){U(Object(R.a)(Object(R.a)({},P),{},{showPassword:!P.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:P.showPassword?Object(d.jsx)(L.a,{}):Object(d.jsx)(B.a,{})})})},n("password",{required:!0,minLength:6}))),i.password&&Object(d.jsxs)("span",{className:"text-danger",children:["required"==i.password.type&&Object(d.jsx)("span",{children:"password required"}),"minLength"==i.password.type&&Object(d.jsx)("span",{children:"password at least 6 char."})]})]}),Object(d.jsx)(_.a,{variant:"primary",className:"mt-3 w-100",type:"submit",children:"Login"}),Object(d.jsx)("p",{className:"text-dark text-center mt-5",children:"please login for getting service"})]})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:12,xs:12,children:Object(d.jsxs)("div",{className:"pt-3 pb-1 text-center",children:[Object(d.jsx)("h4",{className:"text-center text-dark",children:"How to use"}),Object(d.jsx)("iframe",{allowFullScreen:!0,style:{border:"1px solid"},src:"https://drive.google.com/file/d/1zFxWbL-RAIXzSxq571GS2gQA4BfotBpr/preview",width:"100%",height:"380",allow:"autoplay"})]})})]})})}),Object(d.jsx)(g.a,{})]})})};var H=function(e){var t=Object(o.g)();return Object(s.useEffect)((function(){0!=i()&&t("/")}),[]),0==i()?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(q,{})}):Object(d.jsx)(d.Fragment,{children:t("/")})},z=a(308),J=a(29),W=a.n(J),Y=Object(p.b)({name:"projects",initialState:{allProjectData:[],singleProjectData:!1},reducers:{AllProject:function(e,t){e.allProjectData=t.payload},singleProject:function(e,t){e.singleProjectData=t.payload}}}),Q=function(e){g.b.success(e,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},V=function(e){return function(t){e&&e.setLoader(!0);var a=i();O.a.get("https://constructionapi.sabbirinfo.com/getAllProject",{headers:a}).then((function(a){0!=a.data?(t(Y.actions.AllProject(a.data)),e&&e.setLoader(!1)):(e&&e.setLoader(!1),f("No data found"))})).catch((function(t){try{console.log(t),e&&e.setLoader(!1),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){e.setLoader&&e.setLoader(!1),f("something went wrong"),console.log(t)}}))}};function X(e){var t=e.addModalStatus,a=void 0!==t&&t,c=e.setAddModalStatus,n=Object(m.b)(),r=Object(o.g)(),l=Object(s.useState)(!0),j=Object(x.a)(l,2),b=j[0],p=j[1],u=Object(s.useState)(new Date),h=Object(x.a)(u,2),g=h[0],N=h[1],y=Object(s.useState)(new Date),v=Object(x.a)(y,2),F=v[0],A=v[1],T=Object(s.useRef)(),k=Object(D.a)(),M=k.register,I=k.handleSubmit,P=k.reset,L=k.formState.errors,U=function(){return c(!1)};Object(s.useEffect)((function(){0==b&&(w(),r("/login"))}),[b]);var B=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsxs)("button",{className:"example-custom-input bg-transparent",onClick:s,ref:t,children:[Object(d.jsx)("i",{className:"text-primary far fa-calendar-alt me-1"}),Object(d.jsx)("span",{className:"dateString",children:a})]})})),G=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsxs)("button",{className:"example-custom-input bg-transparent",onClick:s,ref:t,children:[Object(d.jsx)("i",{className:"text-primary far fa-calendar-alt me-1"}),Object(d.jsx)("span",{className:"dateString",children:a})]})}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(z.a,{size:"lg",show:a,onHide:U,children:[Object(d.jsx)(z.a.Header,{closeButton:!0,children:Object(d.jsx)(z.a.Title,{className:"py-0 my-0",children:"Project Add"})}),Object(d.jsx)(z.a.Body,{clssName:"projectAddModalBody",children:Object(d.jsxs)("div",{className:"projectAddModalBodyWrapper",children:[Object(d.jsx)(C.a,{lg:12,md:12,sm:12,className:"mt-3 d-flex ",children:Object(d.jsxs)(E.a.Group,{className:"  d-flex ",controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{className:"dateLable",children:"Start Date :"}),Object(d.jsx)(W.a,{selected:g,onChange:function(e){return N(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(B,{})})]})}),Object(d.jsx)(C.a,{lg:12,md:12,sm:12,className:"d-flex ",children:Object(d.jsxs)(E.a.Group,{className:" d-flex ",controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{className:"dateLable",children:"End Date \xa0:"}),Object(d.jsx)(W.a,{selected:F,onChange:function(e){return A(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(G,{})})]})}),Object(d.jsx)("hr",{}),Object(d.jsxs)(E.a,{onSubmit:I((function(e){var t=g.getUTCFullYear()+"-"+(g.getUTCMonth()+1)+"-"+g.getUTCDate(),a=F.getUTCFullYear()+"-"+(F.getUTCMonth()+1)+"-"+F.getUTCDate(),s=Object(R.a)(Object(R.a)({},e),{},{startDate:t,endDate:a});console.log(s),n(function(e){return function(t){var a=e.data,s=e.reset,c=e.saveBtnRef,n=e.addModalHandleClose,r=e.setLogStatus,l=i();c.current.disabled=!0,setTimeout((function(){O.a.post("https://constructionapi.sabbirinfo.com/addProject",a,{headers:l}).then((function(e){200==e.status?(c.current.disabled=!1,s(),t(V()),n(),Q("project saved successfully")):(c.current.disabled=!1,f("project saved failed"))})).catch((function(e){try{401==e.response.status&&r(!1),c.current.disabled=!1,console.log(e),f("something went wrong")}catch(t){console.log(e),c.current.disabled=!1,f("something went wrong")}}))}),0)}}({data:s,reset:P,saveBtnRef:T,addModalHandleClose:U,setLogStatus:p}))})),children:[Object(d.jsxs)(S.a,{className:"mb-3",children:[Object(d.jsx)(C.a,{lg:12,md:12,sm:12,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Project Name"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({},M("projectName",{required:!0})),{},{type:"text",placeholder:"Enter Project Name"})),L.projectName&&Object(d.jsx)("span",{className:"text-danger",children:"This field is required"})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Owner Name"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({},M("ownerName")),{},{defaultValue:"N/A",type:"text",placeholder:"Enter Owner Name"}))]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Owner Phone"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({},M("ownerPhn")),{},{defaultValue:"N/A",type:"text",placeholder:"Enter Owner Phone No."}))]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Project Location"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({},M("projectLocation")),{},{defaultValue:"N/A",type:"text",placeholder:"Enter Project Location"}))]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Project Amount"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({},M("projectAmmount")),{},{defaultValue:"N/A",type:"text",placeholder:"Enter Project Amount"}))]})})]}),Object(d.jsx)(z.a.Footer,{children:Object(d.jsx)(_.a,{ref:T,variant:"primary",type:"submit",children:"Save"})})]})]})})]})})}var $=Object(s.memo)(X);function K(e){var t=i().permission,a=Object(s.useState)(!1),c=Object(x.a)(a,2),n=c[0],r=c[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center pt-2",children:[Object(d.jsx)("div",{children:Object(d.jsxs)("h5",{children:[Object(d.jsx)("i",{className:"fas fa-home"})," Home / Projects"]})}),t&&"1"==JSON.parse(t)[0].admin_write?Object(d.jsx)(_.a,{onClick:function(e){return r(!0)},className:"btn-primary btn-sm ",children:"Project +"}):Object(d.jsx)(_.a,{className:"btn-primary btn-sm disabled",children:"Project +"})]}),Object(d.jsx)("hr",{}),Object(d.jsx)($,{addModalStatus:n,setAddModalStatus:r})]})}var Z=Object(s.memo)(K),ee=a(74),te=a.n(ee),ae=a.p+"static/media/loader.981b6ddf.svg";var se=function(e){var t=e.loader,a=void 0!==t&&t;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(S.a,{className:1==a?"d-flex justify-content-center":"d-none",children:Object(d.jsx)("img",{className:"loaderAnimation",src:ae})})})};var ce=function(e){var t=e.updateModalShow,a=void 0!==t&&t,c=e.setUpdateModalShow,n=Object(D.a)(),r=n.register,l=n.handleSubmit,j=n.reset,b=n.formState.errors,p=Object(m.b)(),u=Object(o.g)(),h=Object(m.c)((function(e){return e.projects.singleProjectData})),g=Object(s.useState)(),N=Object(x.a)(g,2),y=N[0],v=N[1],F=Object(s.useState)(),A=Object(x.a)(F,2),T=A[0],k=A[1],M=Object(s.useState)(!0),I=Object(x.a)(M,2),P=I[0],L=I[1],U=Object(s.useState)(!0),B=Object(x.a)(U,2),G=B[0],q=B[1],H=Object(s.useState)(),J=Object(x.a)(H,2),X=J[0],$=J[1],K=Object(s.useRef)(),Z=Object(s.useRef)();Object(s.useEffect)((function(){if(0!=h){j(),Z.current&&Z.current.reset();var e=h.start_date;v(new Date(e));var t=h.deadline;k(new Date(t)),$(h.status),L(!1)}else L(!0)}),[h]),Object(s.useEffect)((function(){0==G&&(w(),u("/login"))}),[G]);var ee=function(){c(!1),setTimeout((function(){p(Y.actions.singleProject(!1))}),200)},te=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsxs)("button",{className:"example-custom-input bg-transparent",onClick:s,ref:t,children:[Object(d.jsx)("i",{className:"text-primary far fa-calendar-alt me-1"}),Object(d.jsx)("span",{className:"dateString",children:a})]})})),ae=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsxs)("button",{className:"example-custom-input bg-transparent",onClick:s,ref:t,children:[Object(d.jsx)("i",{className:"text-primary far fa-calendar-alt me-1"}),Object(d.jsx)("span",{className:"dateString",children:a})]})}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(z.a,{size:"lg",show:a,onHide:ee,children:[Object(d.jsx)(z.a.Header,{closeButton:!0,children:Object(d.jsx)(z.a.Title,{className:"py-0 my-0",children:"Project Update"})}),Object(d.jsx)(z.a.Body,{clssName:"projectAddModalBody",children:Object(d.jsxs)("div",{className:"projectAddModalBodyWrapper",children:[0!=h&&Object(d.jsxs)("div",{children:[Object(d.jsx)(C.a,{lg:12,md:12,sm:12,className:"d-flex ",children:Object(d.jsxs)(E.a.Group,{className:"  d-flex ",controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{className:"dateLable",children:"Start Date :"}),Object(d.jsx)(W.a,{selected:y,onChange:function(e){return v(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(te,{})})]})}),Object(d.jsx)(C.a,{lg:12,md:12,sm:12,className:"d-flex ",children:Object(d.jsxs)(E.a.Group,{className:" d-flex ",controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{className:"dateLable",children:"End Date \xa0:"}),Object(d.jsx)(W.a,{selected:T,onChange:function(e){return k(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(ae,{})})]})}),Object(d.jsx)("hr",{}),Object(d.jsxs)(E.a,{id:"updateForm",ref:Z,onSubmit:l((function(e){var t=y.getUTCFullYear()+"-"+(y.getUTCMonth()+1)+"-"+y.getUTCDate(),a=T.getUTCFullYear()+"-"+(T.getUTCMonth()+1)+"-"+T.getUTCDate(),s=Object(R.a)(Object(R.a)({},e),{},{startDate:t,endDate:a,id:h.id,status:X});p(function(e){return function(t){var a=e.data,s=e.reset,c=e.updateModalHandleClose,n=e.setLogStatus,r=(e.updateFormRef,e.saveBtnRef),l=i();r.current.disabled=!0,O.a.post("https://constructionapi.sabbirinfo.com/updateProject",a,{headers:l}).then((function(e){200==e.status&&"1"==e.data?(r.current.disabled=!1,t(V()),s(),c(),setTimeout((function(){t(Y.actions.singleProject(!1))}),200),Q("updated successfully")):r.current.disabled=!1})).catch((function(e){try{401==e.response.status&&n(!1),r.current.disabled=!1,f("something went wrong")}catch(a){s(),c(),setTimeout((function(){t(Y.actions.singleProject(!1))}),200),r.current.disabled=!1,f("something went wrong")}}))}}({data:s,reset:j,saveBtnRef:K,updateFormRef:Z,updateModalHandleClose:ee,setLogStatus:q}))})),children:[Object(d.jsxs)(S.a,{className:"mb-3",children:[Object(d.jsx)(C.a,{lg:12,md:12,sm:12,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Project Name"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({defaultValue:h.project_name},r("projectName",{required:!0})),{},{type:"text",placeholder:"Enter Project Name"})),b.projectName&&Object(d.jsx)("span",{className:"text-danger",children:"This field is required"})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Owner Name"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({defaultValue:h.owner_name},r("ownerName")),{},{type:"text",placeholder:"Enter Owner Name"}))]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Owner Phone"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({defaultValue:h.owner_phn},r("ownerPhn")),{},{type:"text",placeholder:"Enter Owner Phone No."}))]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Project Location"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({defaultValue:h.project_location},r("projectLocation")),{},{type:"text",placeholder:"Enter Project Location"}))]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{controlId:"projectName",children:[Object(d.jsx)(E.a.Label,{children:"Project Amount"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({defaultValue:h.project_ammount},r("projectAmmount")),{},{type:"text",placeholder:"Enter Project Amount"}))]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2",children:Object(d.jsxs)(E.a.Group,{as:S.a,className:"mb-3",children:[Object(d.jsx)(E.a.Label,{as:"legend",column:!0,sm:2,children:"Radios"}),Object(d.jsxs)(C.a,{sm:10,className:"mt-2",children:[Object(d.jsx)(E.a.Check,{onChange:function(e){$(e.target.getAttribute("data-status"))},checked:"1"==X,"data-status":"1",type:"radio",label:"Pending",name:"formHorizontalRadios",id:"formHorizontalRadios1"}),Object(d.jsx)(E.a.Check,{onChange:function(e){$(e.target.getAttribute("data-status"))},checked:"0"==X,"data-status":"0",type:"radio",label:"Finished",name:"formHorizontalRadios",id:"formHorizontalRadios2"}),Object(d.jsx)(E.a.Check,{onChange:function(e){$(e.target.getAttribute("data-status"))},checked:"1"!=X&&"0"!=X,"data-status":"",type:"radio",label:"Deni",name:"formHorizontalRadios",id:"formHorizontalRadios3"})]})]})})]}),Object(d.jsx)(z.a.Footer,{children:Object(d.jsx)(_.a,{ref:K,variant:"primary",type:"submit",children:"update"})})]})]}),Object(d.jsx)(se,{loader:P})]})})]})})};function ne(e){var t=Object(o.g)(),a=i().permission,c=Object(m.b)(),n=Object(m.c)((function(e){return e.projects.allProjectData})),r=Object(s.useState)(!1),l=Object(x.a)(r,2),j=l[0],b=l[1],p=Object(s.useState)(!0),u=Object(x.a)(p,2),h=u[0],g=u[1],N=Object(s.useState)(!1),y=Object(x.a)(N,2),v=y[0],S=y[1];Object(s.useEffect)((function(){0==h&&(w(),t("/login")),c(V({setLogStatus:g,setLoader:S}))}),[h]);var R=function(e){c(function(e){return function(t){var a=i();O.a.post("https://constructionapi.sabbirinfo.com/getSingleProjectForUpdate",{id:e.id},{headers:a}).then((function(e){200==e.status?setTimeout((function(){t(Y.actions.singleProject(e.data))}),0):f("something went wrong")})).catch((function(t){try{401==t.response.status&&e.setLogStatus(!1)}catch(a){f("something went wrong")}}))}}({id:e,loader:"setLoader",setLogStatus:g})),b(!0)},D=n,F=[{dataField:"id",text:"#",headerStyle:function(e,t){return{width:"80px",height:"30px",textAlign:"center"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}}},{dataField:"project_name",text:"Project Name",headerStyle:function(e,t){return{textAlign:"center"}},style:function(e,t){return{padding:"7px 3px"}}},{dataField:"total_expence",text:"total expence",headerStyle:function(e,t){return{textAlign:"center",width:"180px"}},style:function(e,t){return{textAlign:"right",padding:"7px 3px"}}},{dataField:"start_date",text:"start date",headerStyle:function(e,t){return{textAlign:"center",width:"100px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}}},{dataField:"status",text:"status",headerStyle:function(e,t){return{textAlign:"center",width:"80px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}},formatter:function(e,t){return Object(d.jsx)("section",{children:"1"==e?Object(d.jsx)("span",{className:"bg-warning text-white",children:"pendibg"}):"0"==e?Object(d.jsx)("span",{className:"bg-success text-white",children:"finished"}):Object(d.jsx)("span",{className:"bg-danger text-white",children:"deni"})})}},{dataField:"i",text:"view",headerStyle:function(e,t){return{textAlign:"center",width:"80px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}},formatter:function(e,t,a,s){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("i",{style:{cursor:"pointer"},className:"text-primary fas fa-eye"}),t.id]})}},{dataField:"Action",isDummyField:!0,text:"Action",headerStyle:function(e,t){return{textAlign:"center",width:"150px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}},formatter:function(e,t){return Object(d.jsxs)(d.Fragment,{children:[a&&"1"==JSON.parse(a)[0].admin_write?Object(d.jsx)(_.a,{onClick:function(e){return R(t.id)},className:"p-0 me-1",children:"edit"}):Object(d.jsx)(_.a,{className:"p-0 disabled me-1",children:"edit"}),a&&"1"==JSON.parse(a)[0].admin_delete?Object(d.jsx)(_.a,{className:"p-0 btn-danger",children:"delete"}):Object(d.jsx)(_.a,{className:"p-0 disabled btn-danger",children:"delete"})]})}}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"pb-2 projectTableWrapper ",children:Object(d.jsx)(te.a,{striped:!0,keyField:"id",data:D,columns:F})}),Object(d.jsx)(se,{loader:v}),Object(d.jsx)(ce,{updateModalShow:j,setUpdateModalShow:b})]})}var re=Object(s.memo)(ne);var le=function(e){var t=Object(o.g)();return Object(s.useEffect)((function(){i()&&"1"!=JSON.parse(i().permission)[0].admin_read&&t("/")}),[]),0!=i()&&"1"==JSON.parse(i().permission)[0].admin_read?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(v.a,{className:"mt-2 bg-white",children:[Object(d.jsx)(Z,{}),Object(d.jsx)(re,{})]}),Object(d.jsx)(g.a,{})]}):Object(d.jsx)(d.Fragment,{})};var oe=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(b,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(y,{children:[Object(d.jsx)(N,{}),Object(d.jsx)(le,{})]})]})})},ie=Object(p.b)({name:"expense",initialState:{ProjectForExpense:[],itemAndUnit:!1,projectForReport:!1,getSingleExpenseForEdit:!1,getLastExpense:!1,expenseForDetailReport:"",allElementReport:!1},reducers:{allProjectForExpense:function(e,t){e.ProjectForExpense=t.payload},getItemAndUnitSlice:function(e,t){e.itemAndUnit=t.payload},getProjectForReportSlice:function(e,t){e.projectForReport=t.payload},getDailyExpenseForEditSlice:function(e,t){e.getSingleExpenseForEdit=t.payload},getLastExpenseForDailyReportSlice:function(e,t){e.getLastExpense=t.payload},getExpenseForDetailReportSlice:function(e,t){e.expenseForDetailReport=t.payload},getElementUsesSlice:function(e,t){e.allElementReport=t.payload}}}),de=function(e){return function(t){var a=i();O.a.get("https://constructionapi.sabbirinfo.com/getItemAndUnit",{headers:a}).then((function(e){200==e.status?t(ie.actions.getItemAndUnitSlice(e.data)):(t(ie.actions.getItemAndUnitSlice(!1)),f("no data found"))})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){f("something went wrong"),console.log(t)}}))}},je=function(e){return function(t){var a=i();O.a.post("https://constructionapi.sabbirinfo.com/expenseUpdate",e.data,{headers:a}).then((function(t){"success"==t.data.status?(e.updateFormRef.current.reset(),e.setExpenseIndex("n/a"),e.setExpence_detail(""),e.setExpence_tag("N/A"),e.setUnit_name("N/A"),e.setUnitLable("N/A"),e.setUnit_per_lable(""),e.setItemIndex("n/a"),e.setQuantity(""),e.setExpence_ammount(""),e.getttingDataForEdit(),e.setExpenseid(!1),Q("data updated!!")):f("data updated failed")})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){f("something went wrong"),console.log(t)}}))}},be=(a(259),a(307)),xe=/^(?!0\d)\d*(\.\d+)?$/,me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.toLocaleString("en-in",{maximumFractionDigits:2})},pe=a(52),ue=a.n(pe);var he=function(e){var t=e.dailyReportPrintRef,a=e.projectNameForReportModal,s=e.expenseDetailForReport,c=e.total,n=Object(m.c)((function(e){return e.expense.getLastExpense}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"d-none",children:Object(d.jsxs)("div",{className:" bg-white px-3 py-3 printExpense",ref:t,children:[Object(d.jsxs)("section",{children:[Object(d.jsx)("h4",{className:"text-center pb-0 mb-1",children:"Your Company Name"}),Object(d.jsx)("p",{className:"text-center ms-auto pt-0 mt-0 pb-0 mb-1",children:"Office address and contact number"}),Object(d.jsx)("div",{style:{borderBottom:"2px solid rgba(0, 0, 0, 0.45)"}}),Object(d.jsxs)(S.a,{className:"mt-2 mb-3",children:[Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:6,className:"printMidHeader",children:[Object(d.jsxs)("span",{children:["Project Name ",Object(d.jsx)("span",{className:"clone1  mb-1",children:":"})," ",a]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Report type  \xa0 ",Object(d.jsx)("span",{className:"clone2 mb-1",children:":"})," Daily project expense details"]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Report Date   ",Object(d.jsx)("span",{className:"clone3 ",children:":"})," ",s[0]&&s[0].date]}),Object(d.jsx)("br",{})]}),Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:6,className:"d-flex justify-content-end",children:[Object(d.jsxs)("span",{children:["Bill No. ",Object(d.jsx)("span",{className:"ms-3 mb-1",children:":"})," ",s[0]&&s[0].bill_no]}),Object(d.jsx)("br",{})]})]})]}),Object(d.jsxs)(be.a,{bordered:!0,className:"mb-0 pb-0",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Description"}),Object(d.jsx)("th",{children:"Tag"}),Object(d.jsx)("th",{children:"Total qty."}),Object(d.jsx)("th",{children:"Unit"}),Object(d.jsx)("th",{children:"Ammount"})]})}),Object(d.jsx)("tbody",{children:s&&s.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"printExpenseRow",style:{fontSize:"1rem"},children:e.expence_detail}),Object(d.jsx)("td",{className:"printExpenseRow",style:{fontSize:"1rem"},children:"N/A"==e.expence_tag?"":e.expence_tag}),Object(d.jsx)("td",{className:"printExpenseRow",style:{fontSize:"1rem"},children:e.quantity}),Object(d.jsx)("td",{className:"printExpenseRow",style:{fontSize:"1rem"},children:"N/A"==e.unit_type?"":e.unit_type}),Object(d.jsx)("td",{className:"printExpenseRow ms-auto dailyReportDetailAmount",style:{fontSize:"1rem"},children:e.expence_ammount})]})})}))})]}),Object(d.jsx)("div",{className:" align-items-center mt-1 pt-0",children:Object(d.jsxs)(S.a,{className:"d-flex justify-content-end align-content-end",children:[Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,className:"",children:Object(d.jsxs)("div",{className:"text-center mt-3 pt-3",children:[Object(d.jsx)("p",{className:"mb-0 pb-0",children:"printed by"}),Object(d.jsx)("p",{className:"mt-0 pt-0",children:i()&&i().fullName})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,children:Object(d.jsxs)(S.a,{children:[Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,className:"d-flex justify-content-end",children:Object(d.jsx)("h5",{children:"Total :"})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,className:"d-flex justify-content-end",children:Object(d.jsxs)("h5",{className:"ms-2",children:[me(c)," tk."]})}),Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:6,className:"d-flex ",children:[Object(d.jsxs)("h5",{children:["Expense up to ",0!=n&&n.lastCostUpTo]}),Object(d.jsx)("h5",{children:":"})]}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,className:"d-flex justify-content-end",children:Object(d.jsxs)("h5",{className:"ms-2",children:[me(0!=n&&n.lastExpense)," tk."]})}),Object(d.jsx)(C.a,{lg:12,md:12,sm:12,xs:12,children:Object(d.jsx)("div",{style:{borderBottom:"2px solid rgba(0, 0, 0, 0.45)"}})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,className:"d-flex justify-content-end",children:Object(d.jsx)("h5",{children:"Grand Total :"})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,className:"d-flex justify-content-end",children:Object(d.jsxs)("h5",{className:"ms-2",children:[me(parseFloat(0!=n?0==n.lastExpense.length?0:n.lastExpense:"0")+parseFloat(c))," tk."]})})]})})]})})]})})})};var Oe=function(e){var t=e.expenseProjectId,a=e.addExpenseHandleClose,c=e.projectName,n=Object(D.a)(),r=n.register,l=n.handleSubmit,j=n.reset,b=(n.watch,n.formState.errors),p=Object(o.g)(),u=Object(m.b)(),h=Object(s.useRef)(),g=(Object(s.useRef)(),Object(s.useRef)()),N=Object(s.useRef)(),y=Object(m.c)((function(e){return e.expense.itemAndUnit})),v=Object(s.useState)([]),F=Object(x.a)(v,2),A=F[0],T=F[1],k=Object(s.useState)([]),M=Object(x.a)(k,2),I=M[0],P=M[1],L=Object(s.useState)(new Date),U=Object(x.a)(L,2),B=U[0],G=U[1],q=Object(s.useState)(!1),H=Object(x.a)(q,2),z=H[0],J=H[1],Y=Object(s.useState)("N/A"),V=Object(x.a)(Y,2),X=V[0],$=V[1],K=Object(s.useState)(0),Z=Object(x.a)(K,2),ee=Z[0],te=Z[1],ae=Object(s.useState)(0),se=Object(x.a)(ae,2),ce=(se[0],se[1]),ne=Object(s.useState)(0),re=Object(x.a)(ne,2),le=re[0],oe=re[1],ie=Object(s.useState)(!1),je=Object(x.a)(ie,2),me=je[0],pe=je[1],Oe=Object(s.useState)(!0),ge=Object(x.a)(Oe,2),fe=ge[0],Ne=ge[1],ye=Object(s.useState)("n/a"),ve=Object(x.a)(ye,2),Se=ve[0],we=ve[1],Re=Object(s.useState)("N/A"),De=Object(x.a)(Re,2),Fe=De[0],Ce=De[1],Ee=Object(s.useState)("N/A"),_e=Object(x.a)(Ee,2),Ae=_e[0],Te=_e[1],ke=Object(s.useState)(""),Me=Object(x.a)(ke,2),Ie=Me[0],Pe=Me[1],Le=function(){return JSON.stringify((new Date).getFullYear())+JSON.stringify((new Date).getMonth()+1)+JSON.stringify((new Date).getDate())+JSON.stringify((new Date).getHours())+JSON.stringify((new Date).getMinutes())+JSON.stringify((new Date).getSeconds())+JSON.stringify((new Date).getMilliseconds())};Object(s.useEffect)((function(){if(0==me){var e=Le();J(e)}}),[me]),Object(s.useEffect)((function(){0==fe?(w(),p("/login")):u(de({setLogStatus:Ne}))}),[fe]);var Ue=function(){document.getElementById("addItem").reset(),Ce(""),$("N/A"),Pe(""),j()},Be=function(){var e=B.getUTCFullYear()+"-"+(B.getUTCMonth()+1)+"-"+B.getUTCDate(),s=i().id;u(function(e){return function(t){var a=i();e.saveBtnRef.current.disabled=!0;var s={rows:e.rows,date:e.date,bill_no:e.bill_no,total_expence_amount:e.total_expence_amount,project_id:e.project_id,user_id:e.user_id};O.a.post("https://constructionapi.sabbirinfo.com/addExpense",s,{headers:a}).then((function(t){"success"==t.data.status?(e.setExpenseDataForPrint(e.rows),e.setTotalForPrint(e.total_expence_amount),e.setLogStatus,e.expensePrintButtonRef,e.saveBtnRef.current.disabled=!1,e.setExpenseData([]),e.setBill_no(e.billNoGenerator()),e.setTotal(0),e.formClear(),e.addExpenseHandleClose(),Q("expense add successful")):"exist"==t.data.status?(e.saveBtnRef.current.disabled=!1,f("Information has already been registered on this date. Please update your information !!")):(e.saveBtnRef.current.disabled=!1,f("expense add failed"))})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),e.saveBtnRef.current.disabled=!1,f("something went wrong")}catch(a){e.saveBtnRef.current.disabled=!1,f("something went wrong")}}))}}({rows:A,date:e,bill_no:z,total_expence_amount:ee,project_id:t,user_id:s,saveBtnRef:h,setLogStatus:Ne,billNoGenerator:Le,setBill_no:J,setTotal:te,formClear:Ue,setExpenseData:T,setExpenseDataForPrint:P,setTotalForPrint:oe,expensePrintButtonRef:g,addExpenseHandleClose:a,setLastExpense:ce}))},Ge=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsx)("button",{disabled:0!=A.length,className:"example-custom-input bg-transparent expenseCalelnder",onClick:s,ref:t,children:Object(d.jsxs)("span",{className:"py-1 px-1 expenseDateString",children:[Object(d.jsx)("i",{style:{fontSize:"1rem"},className:" expenseDateIcon text-white far fa-calendar-alt me-1"}),a]})})}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"projectAddModalBodyWrapper expenseModalBodyWrapper",children:[Object(d.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(d.jsx)(S.a,{children:Object(d.jsxs)(C.a,{lg:4,md:4,sm:6,xs:12,children:[Object(d.jsxs)(E.a.Group,{className:"  d-flex",children:[Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)(E.a.Check,{disabled:0!=A.length,value:me,onChange:function(e){pe(!me)},type:"checkbox"}),Object(d.jsx)("h5",{style:{width:"120px"},className:"ms-1",children:"use exist bill no."})]}),0!=me&&Object(d.jsx)("section",{children:Object(d.jsx)(E.a.Control,{disabled:0!=A.length,style:{width:"190px"},onChange:function(e){return J(e.target.value)},value:z,type:"text",placeholder:"Enter exist bill no"})})]}),0==z.length&&Object(d.jsx)("span",{className:"text-danger",children:"you shuld must have an bull number"})]})}),Object(d.jsx)(W.a,{selected:B,onChange:function(e){return G(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(Ge,{})})]}),Object(d.jsx)("hr",{}),Object(d.jsx)(E.a,{id:"addItem",className:"mt-2",onSubmit:l((function(e){if(0!=z.length){var a=B.getUTCFullYear()+"-"+(B.getUTCMonth()+1)+"-"+B.getUTCDate(),s=t,c=Ie,n=i().id,r=Object(R.a)(Object(R.a)({},e),{},{quantity:c,bill_no:z,date:a,project_id:s,unit_type:X,user_id:n}),l=A;l.push(r),T(l),console.log(r);var o=0;l.map((function(e){var t=e.expence_ammount;0!=t.length&&xe.test(t)||(t=0),o+=parseFloat(t)})),te(o),document.getElementById("descField").focus(),Ue()}else f("you shuld must have a bull number !!")})),children:Object(d.jsxs)(S.a,{children:[Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-3",children:[Object(d.jsx)("h5",{children:"Description :"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({style:{fontSize:"1.2rem"}},r("expence_detail",{required:!0})),{},{id:"descField",as:"textarea",rows:5})),b.expence_detail&&Object(d.jsx)("span",{className:"text-danger",children:"This field is required"})]})}),Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:12,children:[Object(d.jsxs)(E.a.Group,{className:"mb-1",controlId:"formBasicCheckbox",children:[Object(d.jsx)("h5",{children:"Product type :"}),Object(d.jsxs)(E.a.Select,Object(R.a)(Object(R.a)({disabled:0==y},r("expence_tag")),{},{onChange:function(e){we(e.target[e.target.selectedIndex].getAttribute("data-index")),$("N/A"),Ce("N/A"),Te("N/A")},children:[Object(d.jsx)("option",{"data-index":"n/a",value:"N/A",selected:!0,children:"select"}),0!=y&&y.map((function(e,t){return Object(d.jsx)("option",{"data-index":t,children:e.item_name})}))]}))]}),Object(d.jsxs)(E.a.Group,{className:"mb-1",controlId:"formBasicCheckbox",children:[Object(d.jsx)("h5",{children:"Unit type :"}),Object(d.jsxs)(E.a.Select,{disabled:"n/a"==Se,onChange:function(e){$(e.target[e.target.selectedIndex].getAttribute("data-type")),Ce(e.target[e.target.selectedIndex].getAttribute("data-unitPerQty")),Te(e.target[e.target.selectedIndex].getAttribute("data-unit_lable"))},children:[Object(d.jsx)("option",{selected:!0,"data-unit_lable":"N/A","data-unitPerQty":"N/A","data-type":"",children:"select"}),"n/a"!=Se&&y[Se].unit_tables.map((function(e,t){return Object(d.jsx)("option",{"data-unit_lable":e.unit_lable,"data-unitPerQty":e.unit_per_lable,"data-type":e.unit_name,children:e.unit_lable})}))]})]}),Object(d.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Unit per qty :"}),Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsx)(E.a.Control,{value:Fe,disabled:!0,type:"text",placeholder:"Enter email"}),Object(d.jsx)("p",{className:"px-2",children:X})]})]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Quantity :"}),Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsx)(E.a.Control,{onChange:function(e){var t=e.target.value;if(xe.test(t)&&xe.test(Fe)&&0!=t.length){var a=parseFloat(Fe)*parseFloat(t);Pe(a)}else Pe("")},type:"text",placeholder:"Enter email"}),Object(d.jsx)("p",{className:"px-2",children:Ae})]})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Total qty :"}),Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsx)(E.a.Control,{value:Ie,onChange:function(e){var t=e.target.value;xe.test(t)?Pe(t):Pe("")},type:"text",placeholder:"Enter email"}),Object(d.jsx)("p",{className:"px-2",children:X})]})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"unit price :"}),Object(d.jsx)(E.a.Control,{type:"text",placeholder:"Enter email"})]})}),Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2 d-flex align-items-end",children:[Object(d.jsxs)(E.a.Group,{className:"",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Total amount :"}),Object(d.jsx)(E.a.Control,Object(R.a)(Object(R.a)({},r("expence_ammount")),{},{type:"text",placeholder:"Enter email"}))]}),Object(d.jsx)(E.a.Group,{className:"mb-",controlId:"formBasicEmail",children:Object(d.jsx)(_.a,{type:"submit",className:"ms-2 100",children:"Add + "})})]})]})}),Object(d.jsxs)(be.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Description"}),Object(d.jsx)("th",{children:"Tag"}),Object(d.jsx)("th",{children:"Unit"}),Object(d.jsx)("th",{children:"Total qty."}),Object(d.jsx)("th",{children:"Ammount"}),Object(d.jsx)("th",{children:"remove"})]})}),Object(d.jsx)("tbody",{children:A.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontSize:"1.2rem"},children:e.expence_detail}),Object(d.jsx)("td",{children:e.expence_tag}),Object(d.jsx)("td",{children:e.unit_type}),Object(d.jsx)("td",{children:e.quantity}),Object(d.jsx)("td",{className:"dailyReportDetailAmount",children:e.expence_ammount}),Object(d.jsx)("td",{children:Object(d.jsx)(_.a,{type:"submit","data-index":t,onClick:function(e){var a=A.slice(),s=a[t].expence_ammount;0!=s.length&&xe.test(s)||(s=0);var c=parseFloat(ee)-parseFloat(s);te(c),a.splice(e.target.getAttribute("data-index"),1),T(a)},className:"p-0 m-0 btn-danger",children:"remove"})})]})})}))})]}),Object(d.jsx)("hr",{className:"py-0 my-0"}),Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsxs)("div",{className:"d-flex ",children:[Object(d.jsx)("h5",{children:"Total :"}),Object(d.jsxs)("h5",{className:"ms-2",children:[ee," tk."]})]}),Object(d.jsx)(_.a,{ref:h,onClick:function(e){return Be()},disabled:0==A.length,className:"mt-2",children:"Save"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(ue.a,{trigger:function(){return Object(d.jsx)("button",{className:"d-none",ref:g,onClick:function(e){return e.preventDefault()},children:"Print this out!"})},content:function(){return N.current}}),Object(d.jsx)(he,{dailyReportPrintRef:N,projectNameForReportModal:c,expenseDetailForReport:I,total:le})]})]})};var ge=function(e){var t=e.addExpenseModal,a=void 0!==t&&t,s=e.setAddExpenseModal,c=e.expenseProjectId,n=void 0!==c&&c,r=e.projectName,l=function(){s(!1)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"",children:Object(d.jsxs)(z.a,{fullscreen:!0,className:"expenseModal",size:"lg",show:a,onHide:l,children:[Object(d.jsx)(z.a.Header,{closeButton:!0,children:Object(d.jsxs)(z.a.Title,{className:"py-0 my-0",children:["Expense ",n]})}),Object(d.jsx)(z.a.Body,{clssName:"projectAddModalBody",children:Object(d.jsx)(Oe,{projectName:r,addExpenseHandleClose:l,expenseProjectId:n})})]})})})};var fe=function(e){var t=e.setUpdateComponentShow,a=e.setModalName,s=e.setDailyReportShow,c=e.setElementUsesReportShow,n=e.setSummeryReportShow,r=e.setDetailReportShow,l=Object(m.b)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"reportMainButton ms-2 mt-2",children:[Object(d.jsx)(_.a,{onClick:function(e){l(ie.actions.getDailyExpenseForEditSlice(!1)),a("Daily report"),t(!1),s(!0),c(!1),n(!1),r(!1)},className:"w-100 mb-1",children:"Daily report >>"}),Object(d.jsx)(_.a,{onClick:function(e){a("Element uses report"),l(ie.actions.getDailyExpenseForEditSlice(!1)),t(!1),s(!1),c(!0),n(!1),r(!1)},className:"w-100 mb-1",children:"Element uses report >>"}),Object(d.jsx)(_.a,{onClick:function(e){a("Detail report"),l(ie.actions.getDailyExpenseForEditSlice(!1)),s(!1),t(!1),c(!1),n(!1),r(!0)},className:"w-100 mb-1",children:"Detail report >>"})]})})};var Ne=function(e){var t=e.projectNameForReportModal,a=e.startDate,c=e.setStartDate,n=e.endDate,r=e.setEndDate;Object(s.useEffect)((function(){}),[]);var l=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsx)(_.a,{className:"example-custom-input btn-secondary py-0",onClick:s,ref:t,children:Object(d.jsx)("span",{className:" text-white ",children:a})})})),o=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsx)(_.a,{className:"example-custom-input btn-secondary py-0 ",onClick:s,ref:t,children:Object(d.jsx)("span",{className:" text-white text-decoration-none ",children:a})})}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(S.a,{className:"d-flex align-items-end ps-2",children:[Object(d.jsx)(C.a,{lg:8,md:8,sm:7,xs:12,className:"d-flex ",children:Object(d.jsxs)("h5",{className:"mb-2",children:["Project Name : ",t]})}),Object(d.jsxs)(C.a,{lg:4,md:4,sm:6,xs:12,className:"",children:[Object(d.jsxs)(S.a,{children:[Object(d.jsxs)(C.a,{className:"d-flex justify-content-end align-items-center",lg:6,md:6,sm:6,xs:6,children:[Object(d.jsx)("h5",{className:"me-1",children:"From "})," :"]}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,children:Object(d.jsx)("h5",{children:Object(d.jsx)(W.a,{selected:a,onChange:function(e){return c(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(l,{})})})})]}),Object(d.jsxs)(S.a,{className:"dailyReportToDate",children:[Object(d.jsxs)(C.a,{className:"d-flex justify-content-end align-items-center",lg:6,md:6,sm:6,xs:6,children:[Object(d.jsx)("h5",{className:"me-1",children:"To"})," :"]}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,children:Object(d.jsx)("h5",{children:Object(d.jsx)(W.a,{selected:n,onChange:function(e){return r(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(o,{})})})})]}),Object(d.jsx)(S.a,{className:"dailyReportToDate d-flex justify-content-end",children:Object(d.jsx)(C.a,{className:"d-flex justify-content-end align-items-center me-2",lg:6,children:Object(d.jsx)("input",{className:"",placeholder:"search"})})})]})]})})};var ye=function(e){var t=e.projectsForReport,a=e.setExpenseDetailForReport,s=e.setBillId;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"dailyReportBillTable",children:Object(d.jsxs)(be.a,{bordered:!0,size:"sm",children:[Object(d.jsx)("thead",{className:"bg-white",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"#"}),Object(d.jsx)("th",{children:"Date"}),Object(d.jsx)("th",{children:"Bill No."}),Object(d.jsx)("th",{children:"Amount"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{className:"bg-white",children:0!=t&&t.map((function(e,c){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:c+1}),Object(d.jsx)("td",{children:e.date}),Object(d.jsx)("td",{children:e.bill_no}),Object(d.jsx)("td",{className:"dailyReportDetailAmount",children:me(parseFloat(e.total_expence_amount))}),Object(d.jsxs)("td",{className:"text-center",children:[Object(d.jsx)(_.a,{"data-id":e.id,className:"btn-danger p-0 m-0 d-inline-block",children:"del"}),Object(d.jsx)(_.a,{"data-index":c,"data-id":e.id,onClick:function(c){a(t[c.target.getAttribute("data-index")].expences),s(e.id)},className:"p-0 m-0 d-inline-block ms-1",children:"view"})]})]})}))})]})})})};var ve=function(e){var t=e.projectNameForReportModal,a=e.expenseDetailForReport,c=e.billId,n=e.setUpdateComponentShow,r=e.setDailyReportShow,l=e.setModalName,j=e.projectIdForReportModal,b=Object(s.useRef)(),p=Object(s.useRef)(),u=Object(m.b)(),h=Object(o.g)(),g=Object(s.useState)(!0),N=Object(x.a)(g,2),y=N[0],v=N[1];Object(s.useEffect)((function(){0==y&&(w(),h("/login"))}),[y]);var S=Object(s.useState)(""),R=Object(x.a)(S,2),D=R[0],F=R[1];Object(s.useEffect)((function(){if(0!=a){var e="0";a.map((function(t,a){var s=t.expence_ammount;0==s.length&&(s=0),e=parseFloat(e)+parseFloat(s)})),F(e)}}),[a]);var C=function(){if(0!=a){var e={data:{projectId:j,id:c,date:a&&a[0].date},setLogStatus:v,printBtnRef:b};u(function(e){return function(t){var a=i();O.a.post("https://constructionapi.sabbirinfo.com/getLastExpenseForDailyReport",e.data,{headers:a}).then((function(a){"success"==a.data.status?(t(ie.actions.getLastExpenseForDailyReportSlice(a.data)),e.printBtnRef.current.click()):(t(ie.actions.getLastExpenseForDailyReportSlice(!1)),f("some thing went wrong !!"))})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){f("something went wrong"),console.log(t)}}))}}(e))}else alert("nothing to print. plese select any bill...")};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{style:{width:"100%"},className:"d-md-block d-none dailyReportDetailTable",children:Object(d.jsxs)(be.a,{className:"",bordered:!0,size:"sm",children:[Object(d.jsx)("thead",{className:"bg-white",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{width:"160px"},children:"Bill No."}),Object(d.jsx)("th",{children:"Desc"}),Object(d.jsx)("th",{style:{width:"120px",textAlign:"center"},children:"Amount"})]})}),Object(d.jsx)("tbody",{className:"bg-white",children:0!=a&&a.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.bill_no}),Object(d.jsx)("td",{children:e.expence_detail}),Object(d.jsx)("td",{style:{textAlign:"right !important"},className:"dailyReportDetailAmount text-center",children:0==e.expence_ammount.length?"":me(parseFloat(e.expence_ammount))})]})}))})]})}),Object(d.jsx)(be.a,{className:"m-0 p-0 dailyReportDetailCalculation",children:Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{style:{textAlign:"right",border:"none"}}),Object(d.jsx)("th",{style:{textAlign:"right",border:"none"}}),Object(d.jsx)("th",{style:{textAlign:"right",border:"none"}}),Object(d.jsx)("th",{style:{textAlign:"right",borderLeft:"none",borderRight:"1px solid #dadaea99"},children:"Amount"}),Object(d.jsxs)("th",{style:{textAlign:"right",width:"120px"},className:"ms-auto",children:[me(0!=a?D:"0")," tk."]})]})})}),Object(d.jsx)("hr",{className:"p-0 mt-0 me-2"}),Object(d.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(d.jsx)(_.a,{onClick:function(e){C()},className:"d-inline-block me-1",children:"Print"}),"1"==JSON.parse(i().permission)[0].expense_write&&Object(d.jsx)(_.a,{onClick:function(e){0!=a?(l("Daily Report Update"),r(!1),n(!0)):alert("nothing to edit. plese select any bill...")},className:"d-inline-block  me-2",children:"Edit"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(ue.a,{trigger:function(){return Object(d.jsx)(_.a,{ref:b,className:"d-none d-inline-block",children:"Print"})},content:function(){return p.current}}),Object(d.jsx)(he,{expenseDetailForReport:a,total:D,projectNameForReportModal:t,dailyReportPrintRef:p})]}),Object(d.jsx)("hr",{className:"p-0 mt-2 mb-3 me-2"})]})},Se=a(22),we=a.n(Se),Re=a(35);var De=function(e){var t=e.expenseDetailForReport,a=e.billId,c=e.projectIdForReportModal,n=(e.updateComponentShow,Object(D.a)()),r=(n.register,n.handleSubmit),l=n.reset,j=(n.watch,n.formState.errors,Object(o.g)()),b=Object(m.b)(),p=Object(s.useRef)(),u=Object(m.c)((function(e){return e.expense.itemAndUnit})),h=Object(m.c)((function(e){return e.expense.getSingleExpenseForEdit})),g=Object(s.useState)([]),N=Object(x.a)(g,2),y=N[0],v=N[1],F=Object(s.useState)(new Date),A=Object(x.a)(F,2),T=A[0],k=A[1],M=Object(s.useState)(0),I=Object(x.a)(M,2),P=I[0],L=I[1],U=Object(s.useState)(!1),B=Object(x.a)(U,2),G=(B[0],B[1],Object(s.useState)(!0)),q=Object(x.a)(G,2),H=q[0],z=q[1],J=Object(s.useState)("n/a"),Y=Object(x.a)(J,2),Q=Y[0],V=Y[1],X=Object(s.useState)("n/a"),$=Object(x.a)(X,2),K=$[0],Z=$[1],ee=Object(s.useState)(!1),te=Object(x.a)(ee,2),ae=te[0],se=te[1],ce=Object(s.useState)("N/A"),ne=Object(x.a)(ce,2),re=ne[0],le=ne[1],oe=Object(s.useState)(""),pe=Object(x.a)(oe,2),ue=pe[0],he=pe[1],Oe=Object(s.useState)("N/A"),ge=Object(x.a)(Oe,2),fe=ge[0],Ne=ge[1],ye=Object(s.useState)(!1),ve=Object(x.a)(ye,2),Se=(ve[0],ve[1]),De=Object(s.useState)(""),Fe=Object(x.a)(De,2),Ce=Fe[0],Ee=Fe[1],_e=Object(s.useState)("N/A"),Ae=Object(x.a)(_e,2),Te=Ae[0],ke=Ae[1],Me=Object(s.useState)(""),Ie=Object(x.a)(Me,2),Pe=Ie[0],Le=Ie[1],Ue=Object(s.useState)(""),Be=Object(x.a)(Ue,2),Ge=Be[0],qe=Be[1];Object(s.useEffect)((function(){"n/a"==Q&&(le("N/A"),he(""),Ne("N/A"))}),[Q]),Object(s.useEffect)((function(){0==H?(w(),j("/login")):b(de({setLogStatus:z}))}),[H]);var He=function(){setTimeout((function(){var e={data:{id:a,billNo:t[0].bill_no,projectId:c},setLogStatus:z};b(function(e){return function(t){var a=i();O.a.post("https://constructionapi.sabbirinfo.com/getDailyExpenseForEdit",e.data,{headers:a}).then((function(e){"success"==e.data.status&&t(ie.actions.getDailyExpenseForEditSlice(e.data))})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){f("something went wrong"),console.log(t)}}))}}(e))}),0)};Object(s.useEffect)((function(){k(new Date(t[0].date)),L(""),He()}),[]),Object(s.useEffect)((function(){0!=h&&v(h.billInfo.expences),0!=h&&function(){var e="0";y.map((function(t,a){var s=t.expence_ammount;0!=s.length&&xe.test(s)||(s="0"),e=parseFloat(e)+parseFloat(s)})),L(e)}()}),[h,y]);var ze=function(){var e=Object(Re.a)(we.a.mark((function e(s){var n,r,o,i,d,j;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T.getUTCFullYear(),r=T.getUTCMonth()+1,o=T.getUTCDate(),i={data:{expence_tag:Te,expence_detail:Ce,unit_name:fe,expence_ammount:Ge,quantity:Pe,date:n+"-"+r+"-"+o,projectId:c,expenseId:ae,billNo:t[0].bill_no,billId:a,totalExpense:""},setExpenseid:se,setLogStatus:z,updateFormRef:p,setExpence_detail:Ee,setExpence_tag:ke,setUnit_name:Ne,setUnitLable:le,setUnit_per_lable:he,setItemIndex:V,setExpenseIndex:Z,setQuantity:Le,setExpence_ammount:qe,getttingDataForEdit:He},d=y.slice(),"n/a"!=K?(d[K]=Object(R.a)({},i.data),v(d)):(d.push(i.data),v(d)),j=0,d.map((function(e){var t=e.expence_ammount;xe.test(t)&&0!=t.length||(t=0),j=parseFloat(j)+parseFloat(t)})),i.data.totalExpense=j,b(je(i)),l();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsx)("button",{disabled:!0,className:"example-custom-input bg-transparent expenseCalelnder",onClick:s,ref:t,children:Object(d.jsxs)("span",{className:"py-1 px-1 expenseDateString",children:[Object(d.jsx)("i",{style:{fontSize:"1rem"},className:" expenseDateIcon text-white far fa-calendar-alt me-1"}),a]})})}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h5",{children:"update expense component"}),Object(d.jsxs)("h5",{children:["bill id : ",0!=a&&a]}),Object(d.jsxs)("h5",{children:["bill No. : ",0!=t&&t[0].bill_no]}),Object(d.jsxs)("h5",{children:["Project Id: ",c]}),Object(d.jsxs)("div",{className:"projectAddModalBodyWrapper expenseModalBodyWrapper",children:[Object(d.jsx)("div",{className:"updateExpense",children:Object(d.jsxs)(be.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{className:"updateExpenseTableHead",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Description"}),Object(d.jsx)("th",{children:"Tag"}),Object(d.jsx)("th",{children:"Unit"}),Object(d.jsx)("th",{children:"Total qty."}),Object(d.jsx)("th",{children:"Ammount"}),Object(d.jsx)("th",{children:"remove"})]})}),Object(d.jsx)("tbody",{children:0!=h&&y.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontSize:"1.2rem"},children:e.expence_detail}),Object(d.jsx)("td",{children:e.expence_tag}),Object(d.jsx)("td",{children:e.unit_type}),Object(d.jsx)("td",{children:0!=e.quantity.length?me(parseFloat(e.quantity)):""}),Object(d.jsx)("td",{children:0!=e.expence_ammount.length?me(parseFloat(e.expence_ammount)):""}),Object(d.jsx)("td",{children:Object(d.jsx)(_.a,{"data-index":t,onClick:function(t){var a=t.target.getAttribute("data-index");Z(a);y[a];k(new Date(e.date)),Ee(e.expence_detail),ke(e.expence_tag),Ne(e.unit_type),Le(e.quantity),qe(e.expence_ammount),se(e.id),Se(e.bill_no),u.map((function(t,a){t.item_name==e.expence_tag&&V(a)}))},className:"btn-success p-0 m-0",children:"Show"})})]})})}))})]})}),Object(d.jsx)("hr",{className:"py-0 my-0"}),Object(d.jsxs)("div",{className:"d-flex ",children:[Object(d.jsx)("h5",{children:"Total :"}),Object(d.jsxs)("h5",{className:"ms-2",children:[me(parseFloat(P))," tk."]})]}),Object(d.jsx)("hr",{className:"mt-3"}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)(W.a,{selected:T,onChange:function(e){return k(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(Je,{})})}),Object(d.jsx)("hr",{}),Object(d.jsx)(E.a,{id:"addItem",ref:p,className:"mt-2",onSubmit:r(ze),children:Object(d.jsxs)(S.a,{children:[Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-3",children:[Object(d.jsx)("h5",{children:"Description :"}),Object(d.jsx)(E.a.Control,{value:Ce,onChange:function(e){return Ee(e.target.value)},style:{fontSize:"1.2rem"},id:"descField",as:"textarea",rows:5})]})}),Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:12,children:[Object(d.jsxs)(E.a.Group,{className:"mb-1",controlId:"exampleForm.formBasicCheckbox",children:[Object(d.jsx)("h5",{children:"Product type :"}),Object(d.jsxs)(E.a.Select,{onChange:function(e){V(e.target[e.target.selectedIndex].getAttribute("data-index")),ke(e.target[e.target.selectedIndex].value)},children:[Object(d.jsx)("option",{"data-index":"n/a",value:"N/A",selected:!0,children:"Select"}),0!=u&&u.map((function(e,t){return Object(d.jsx)("option",{selected:Te==e.item_name,value:e.item_name,"data-index":t,children:e.item_name})}))]})]}),Object(d.jsxs)(E.a.Group,{className:"mb-1",controlId:"formBasicCheckbox",children:[Object(d.jsx)("h5",{children:"Unit type :"}),Object(d.jsxs)(E.a.Select,{disabled:"n/a"==Q,onChange:function(e){le(e.target[e.target.selectedIndex].value),he(e.target[e.target.selectedIndex].getAttribute("data-unit_per_lable")),Ne(e.target[e.target.selectedIndex].getAttribute("data-unit_name"))},children:[Object(d.jsx)("option",{"data-unit_per_lable":"","data-unit_name":"N/A",value:"N/A",selected:!0,"data-type":"",children:"select"}),"n/a"!=Q&&u[Q].unit_tables.map((function(e,t){return Object(d.jsx)("option",{"data-unit_name":e.unit_name,selected:re==e.unit_lable,"data-unit_per_lable":e.unit_per_lable,value:e.unit_lable,children:e.unit_lable})}))]})]}),Object(d.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Unit per qty :"}),Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)(E.a.Control,{value:ue,disabled:!0,type:"text",placeholder:"Enter email"}),Object(d.jsx)("span",{className:"ms-1",children:fe})]})]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Quantity :"}),Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)(E.a.Control,{onChange:function(e){if("n/a"!=Q){var t=ue,a=e.target.value;xe.test(t)&&xe.test(a)&&""!=t.length&&""!=a.length?Le(parseFloat(t)*parseFloat(a)):Le("")}},type:"text",placeholder:"Enter email"}),Object(d.jsx)("span",{className:"ms-1",children:re})]})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Total qty :"}),Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(d.jsx)(E.a.Control,{onChange:function(e){var t=e.target.value;0!=t.length&&xe.test(t)?Le(t):Le("")},value:Pe,type:"text",placeholder:"Enter email"}),Object(d.jsx)("span",{className:"ms-1",children:fe})]})]})}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:12,children:Object(d.jsxs)(E.a.Group,{className:"mb-2",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"unit price :"}),Object(d.jsx)(E.a.Control,{type:"text",placeholder:"Enter email"})]})}),Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:12,className:"mb-2 d-flex align-items-end",children:[Object(d.jsxs)(E.a.Group,{className:"",controlId:"formBasicEmail",children:[Object(d.jsx)("h5",{children:"Total amount :"}),Object(d.jsx)(E.a.Control,{value:Ge,onChange:function(e){var t=e.target.value;0!=t.length&&xe.test(t)?qe(t):qe("")},type:"text",placeholder:"Enter email"})]}),Object(d.jsx)(E.a.Group,{className:"mb-",controlId:"formBasicEmail",children:Object(d.jsx)(_.a,{type:"submit",className:"ms-2 100",children:"update"})})]})]})})]})]})};var Fe=function(e){var t=e.detailReportPrintRef,a=e.projectNameForReportModal,s=e.detailReportStartDate,c=e.detailReportEndDate,n=Object(m.c)((function(e){return e.expense.expenseForDetailReport})),r=""!=n&&n.expenses,l=""!=n?n.lastExpense:0;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"d-none",children:Object(d.jsxs)("div",{className:"px-2 ",ref:t,children:[Object(d.jsxs)("section",{className:"ps-2",children:[Object(d.jsx)("h4",{className:"text-center pb-0 mb-1",children:"Your Company Name"}),Object(d.jsx)("p",{className:"text-center ms-auto pt-0 mt-0 pb-0 mb-1",children:"Office address and contact number"}),Object(d.jsx)("div",{style:{borderBottom:"2px solid rgba(0, 0, 0, 0.45)"}}),Object(d.jsx)(S.a,{className:"mt-2 mb-3",children:Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:6,className:"printMidHeader",children:[Object(d.jsxs)("span",{children:["Project Name ",Object(d.jsx)("span",{className:"clone1  ",children:": "}),a]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Report type  \xa0 ",Object(d.jsx)("span",{className:"clone2 mb-1",children:":"}),"\xa0 Project expense details"]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Report Date   ",Object(d.jsx)("span",{className:"clone3 ",children:":"}),"\xa0 ",s," to ",c]}),Object(d.jsx)("br",{})]})})]}),Object(d.jsx)(be.a,{className:"mb-1",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{border:"1px solid black",width:"50vw"},className:" ",children:Object(d.jsxs)("b",{children:["Expense up to ",""!=n?n.lastExpenseDate:""]})}),Object(d.jsx)("td",{style:{border:"1px solid black",borderLeft:"none",width:"50vw"},className:"detailReportTotalCost detailReportTableDataAlign ",children:Object(d.jsxs)("b",{children:[me(""!=n?n.lastExpense:0)," tk."]})})]})}),Object(d.jsxs)(be.a,{bordered:!0,className:"",size:"sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{style:{borderTop:"1px solid black"},children:[Object(d.jsx)("th",{style:{width:"100px",borderLeft:"1px solid black",borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign",children:"Date"}),Object(d.jsx)("th",{style:{width:"auto",borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign",children:"Description"}),Object(d.jsx)("th",{style:{width:"120px",borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign",children:"Total Qty."}),Object(d.jsx)("th",{style:{width:"120px",borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign",children:"Unit"}),Object(d.jsx)("th",{style:{width:"100px",borderRight:"1px solid black",borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign",children:"Amount"})]})}),Object(d.jsx)("tbody",{children:0!=r&&r.map((function(e,t){var a=0;return a=parseFloat(a)+parseFloat(0!=e.expences[0].expence_ammount.length?e.expences[0].expence_ammount:0),l=parseFloat(l)+parseFloat(0!=e.expences[0].expence_ammount.length?e.expences[0].expence_ammount:0),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("tr",{className:"",children:[Object(d.jsx)("td",{rowSpan:e.expences.length,style:{border:"1px solid black"},className:"detailReportTableDataCommonAlign ",children:e.date}),Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},className:"py-1 ",children:e.expences[0].expence_detail}),Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign py-1",children:e.expences[0].quantity}),Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign py-1",children:"N/A"==e.expences[0].unit_type?"":e.expences[0].unit_type}),Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black",borderRight:"1px solid black"},className:"detailReportTableDataAlign py-1",children:e.expences[0].expence_ammount})]}),e.expences.map((function(t,s){if(0!=s)return a=parseFloat(a)+parseFloat(0!=e.expences[s].expence_ammount.length?e.expences[s].expence_ammount:0),l=parseFloat(l)+parseFloat(0!=e.expences[s].expence_ammount.length?e.expences[s].expence_ammount:0),Object(d.jsxs)("tr",{className:"",children:[Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},className:"py-1",children:e.expences[s].expence_detail}),Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign py-1",children:e.expences[s].quantity}),Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black"},className:"detailReportTableDataCommonAlign py-1",children:"N/A"==e.expences[s].unit_type?"":e.expences[s].unit_type}),Object(d.jsx)("td",{style:{borderBottom:"1px solid black",borderTop:"1px solid black",borderRight:"1px solid black"},className:"detailReportTableDataAlign py-1",children:e.expences[s].expence_ammount})]})})),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{borderRight:"1px solid black"},className:"detailReportDailyCost detailReportTableDataAlign",colSpan:"2"}),Object(d.jsx)("td",{style:{border:"1px solid black"},className:"detailReportDailyCost detailReportTableDataAlign",colSpan:"2",children:Object(d.jsxs)("b",{children:["Today's expense ",me(a)," tk."]})}),Object(d.jsx)("td",{style:{border:"1px solid black"},className:"detailReportTotalCost detailReportTableDataAlign",children:Object(d.jsxs)("b",{children:[me(l)," tk."]})})]}),Object(d.jsx)("br",{})]})}))})]})]})})})};var Ce=function(e){var t=e.projectNameForReportModal,a=e.detailReportStartDate,c=e.detailReportEndDate,n=Object(s.useRef)(),r=Object(m.c)((function(e){return e.expense.expenseForDetailReport})),l=""!=r.length?r.lastExpense:0;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"expenseDetailTable",children:Object(d.jsxs)(be.a,{bordered:!0,className:"mb-2",size:"sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"detailReportTableDataCommonAlign",children:"Date"}),Object(d.jsx)("th",{className:"detailReportTableDataCommonAlign",children:"Description"}),Object(d.jsx)("th",{className:"detailReportTableDataCommonAlign",children:"Tag"}),Object(d.jsx)("th",{className:"detailReportTableDataCommonAlign",children:"Total Qty."}),Object(d.jsx)("th",{className:"detailReportTableDataCommonAlign",children:"Unit"}),Object(d.jsx)("th",{className:"detailReportTableDataCommonAlign",children:"Amount"})]})}),Object(d.jsx)("tbody",{children:""!=r&&r.expenses.map((function(e,t){var a=0;return a=parseFloat(a)+parseFloat(0!=e.expences[0].expence_ammount.length?e.expences[0].expence_ammount:0),l=parseFloat(l)+parseFloat(0!=e.expences[0].expence_ammount.length?e.expences[0].expence_ammount:0),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("tr",{className:"DetailReportCommonRow",children:[Object(d.jsx)("td",{className:"detailReportTableDataCommonAlign",rowSpan:e.expences.length,children:e.date}),Object(d.jsx)("td",{children:e.expences[0].expence_detail}),Object(d.jsx)("td",{className:"detailReportTableDataCommonAlign",children:e.expences[0].expence_tag}),Object(d.jsx)("td",{className:"detailReportTableDataCommonAlign",children:e.expences[0].quantity}),Object(d.jsx)("td",{className:"detailReportTableDataCommonAlign",children:e.expences[0].unit_type}),Object(d.jsx)("td",{className:"detailReportTableDataAlign",children:e.expences[0].expence_ammount})]}),e.expences.map((function(t,s){if(0!=s)return a=parseFloat(a)+parseFloat(0!=e.expences[s].expence_ammount.length?e.expences[s].expence_ammount:0),l=parseFloat(l)+parseFloat(0!=e.expences[s].expence_ammount.length?e.expences[s].expence_ammount:0),Object(d.jsxs)("tr",{className:"DetailReportCommonRow",children:[Object(d.jsx)("td",{children:e.expences[s].expence_detail}),Object(d.jsx)("td",{className:"detailReportTableDataCommonAlign",children:e.expences[s].expence_tag}),Object(d.jsx)("td",{className:"detailReportTableDataCommonAlign",children:e.expences[s].quantity}),Object(d.jsx)("td",{className:"detailReportTableDataCommonAlign",children:e.expences[s].unit_type}),Object(d.jsx)("td",{className:"detailReportTableDataAlign",children:e.expences[s].expence_ammount})]})})),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{borderRight:"1px solid black"},className:"detailReportDailyCost detailReportTableDataAlign",colSpan:"3"}),Object(d.jsx)("td",{style:{border:"1px solid black"},className:"detailReportDailyCost detailReportTableDataAlign",colSpan:"2",children:Object(d.jsxs)("b",{children:["Today's expense ",me(a)," tk."]})}),Object(d.jsx)("td",{style:{border:"1px solid black"},className:"detailReportTotalCost detailReportTableDataAlign",children:Object(d.jsxs)("b",{children:[me(l)," tk."]})})]})]})}))})]})}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"d-flex justify-content-end",children:Object(d.jsx)(ue.a,{pageStyle:"{ margin: .5in 0in }",trigger:function(){return Object(d.jsx)(_.a,{className:"d-inline-block me-2 mb-2 ms-auto",children:"print"})},content:function(){return n.current}})}),Object(d.jsx)(Fe,{detailReportEndDate:c,detailReportStartDate:a,projectNameForReportModal:t,detailReportPrintRef:n})]})};var Ee=function(e){var t=e.projectNameForReportModal,a=e.detailReportStartDate,c=e.detailReportEndDate,n=Object(s.useState)(),r=Object(x.a)(n,2),l=r[0],o=r[1],i=Object(s.useState)(),j=Object(x.a)(i,2),b=j[0],m=j[1];return Object(s.useEffect)((function(){var e=new Date(a),t=e.getUTCDate(),s=e.getUTCMonth()+1,n=e.getUTCFullYear()+"-"+s+"-"+t,r=new Date(c),l=r.getUTCDate(),i=r.getUTCMonth()+1,d=r.getUTCFullYear()+"-"+i+"-"+l;o(n),m(d)}),[c,a]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"px-2",children:Object(d.jsx)(Ce,{detailReportEndDate:b,detailReportStartDate:l,projectNameForReportModal:t})})})};var _e=function(e){var t=e.projectIdForReportModal,a=e.detailReportShow,c=e.projectNameForReportModal,n=e.startDate,r=e.setStartDate,l=e.endDate,j=e.setEndDate,b=Object(o.g)(),p=Object(m.b)(),u=Object(s.useState)(!0),h=Object(x.a)(u,2),g=h[0],N=h[1],y=Object(m.c)((function(e){return e.expense.expenseForDetailReport}));Object(s.useEffect)((function(){0==g&&(w(),b("/login"))}),[g]),Object(s.useEffect)((function(){if(1==a){var e=new Date(n),s=e.getUTCDate(),c=e.getUTCMonth()+1,r=e.getUTCFullYear()+"-"+c+"-"+s,o=new Date(l),d=o.getUTCDate(),j=o.getUTCMonth()+1,b=o.getUTCFullYear();p(function(e){return function(t){var a=i();O.a.post("https://constructionapi.sabbirinfo.com/getExpenseForDetailReport",e.data,{headers:a}).then((function(e){"success"==e.data.status?t(ie.actions.getExpenseForDetailReportSlice(e.data)):f("no data found")})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){f("something went wrong"),console.log(t)}}))}}({data:{projectId:t,fromDate:r,toDate:b+"-"+j+"-"+d},setLogStatus:N}))}}),[n,l]);var v=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsx)(_.a,{className:"example-custom-input btn-secondary py-0",onClick:s,ref:t,children:Object(d.jsx)("span",{className:" text-white ",children:a})})})),R=Object(s.forwardRef)((function(e,t){var a=e.value,s=e.onClick;return Object(d.jsx)(_.a,{className:"example-custom-input btn-secondary py-0 ",onClick:s,ref:t,children:Object(d.jsx)("span",{className:" text-white text-decoration-none ",children:a})})}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(S.a,{className:"d-flex align-items-end ps-2",children:[Object(d.jsx)(C.a,{lg:8,md:8,sm:7,xs:12,className:"d-flex ",children:Object(d.jsxs)("h5",{className:"mb-2",children:["Project Name : ",c]})}),Object(d.jsxs)(C.a,{lg:4,md:4,sm:6,xs:12,className:"",children:[Object(d.jsxs)(S.a,{children:[Object(d.jsxs)(C.a,{className:"d-flex justify-content-end align-items-center",lg:6,md:6,sm:6,xs:6,children:[Object(d.jsx)("h5",{className:"me-1",children:"From "})," :"]}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,children:Object(d.jsx)("h5",{children:Object(d.jsx)(W.a,{selected:n,onChange:function(e){return r(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(v,{})})})})]}),Object(d.jsxs)(S.a,{className:"dailyReportToDate",children:[Object(d.jsxs)(C.a,{className:"d-flex justify-content-end align-items-center",lg:6,md:6,sm:6,xs:6,children:[Object(d.jsx)("h5",{className:"me-1",children:"To"})," :"]}),Object(d.jsx)(C.a,{lg:6,md:6,sm:6,xs:6,children:Object(d.jsx)("h5",{children:Object(d.jsx)(W.a,{selected:l,onChange:function(e){return j(e)},dateFormat:"yyyy-MMMM-dd",customInput:Object(d.jsx)(R,{})})})})]}),Object(d.jsx)(S.a,{className:"dailyReportToDate d-flex justify-content-end",children:Object(d.jsx)(C.a,{className:"d-flex justify-content-end align-items-center me-2",lg:6,children:Object(d.jsx)("input",{className:"",placeholder:"search"})})})]})]}),Object(d.jsx)(S.a,{className:" ",children:Object(d.jsx)(C.a,{children:Object(d.jsxs)("h5",{className:" detailReportLastExp mt-0 me-2",children:["Expense up to ",""!=y&&y.lastExpenseDate," : ",""!=y&&me(y.lastExpense)," tk."]})})})]})};var Ae=function(e){var t=e.projectNameForReportModal;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(C.a,{lg:8,md:8,sm:7,xs:12,className:"d-flex ",children:Object(d.jsxs)("h5",{className:"mb-2",children:["Project Name : ",t]})})})};var Te=function(e){var t=e.elementReportData,a=Object(s.useState)("n/a"),c=Object(x.a)(a,2),n=c[0],r=c[1];return Object(s.useEffect)((function(){if("n/a"!=t){var e=0;t.map((function(t){var a=t.quantity;0!=a.length||xe(a)||(a=0),e=parseFloat(e)+parseFloat(a)})),r(e)}}),[t]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(be.a,{className:"bg-white",bordered:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"#"}),Object(d.jsx)("th",{children:"Date"}),Object(d.jsx)("th",{children:"Element Name"}),Object(d.jsx)("th",{children:"Quantity"}),Object(d.jsx)("th",{children:"Unit"})]})}),Object(d.jsxs)("tbody",{children:["n/a"!=t?t.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"printExpenseRow",children:t+1}),Object(d.jsx)("td",{className:"printExpenseRow",children:e.date}),Object(d.jsx)("td",{className:"printExpenseRow",children:e.expence_tag}),Object(d.jsx)("td",{className:"text-end printExpenseRow",children:e.quantity}),Object(d.jsx)("td",{className:"text-center printExpenseRow",children:e.unit_type})]})})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{colSpan:5,className:"text-center",children:"no data"})}),"n/a"!=t&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{colSpan:3,className:"text-center",children:Object(d.jsx)("h4",{children:"Total used"})}),Object(d.jsx)("td",{className:"text-end",children:Object(d.jsx)("h4",{children:me(n)})}),Object(d.jsx)("td",{className:"text-center",children:Object(d.jsx)("h4",{children:"n/a"!=t&&t[0].unit_type})})]})]})]})})};var ke=function(e){var t=e.elementReportData,a=e.printRef,s=e.projectNameForReportModal;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"d-none",children:Object(d.jsxs)("div",{ref:a,children:[Object(d.jsxs)("section",{children:[Object(d.jsx)("h4",{className:"text-center pb-0 mb-1",children:"Your Company Name"}),Object(d.jsx)("p",{className:"text-center ms-auto pt-0 mt-0 pb-0 mb-1",children:"Office address and contact number"}),Object(d.jsx)("div",{style:{borderBottom:"2px solid rgba(0, 0, 0, 0.45)"}}),Object(d.jsx)(S.a,{className:"mt-2 mb-3",children:Object(d.jsxs)(C.a,{lg:6,md:6,sm:6,xs:6,className:"printMidHeader",children:[Object(d.jsxs)("span",{children:["Project Name ",Object(d.jsx)("span",{className:"clone1  mb-1",children:":"})," ",s]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Report type  \xa0 ",Object(d.jsx)("span",{className:"clone2 mb-1",children:":"})," Element uses report"]}),Object(d.jsx)("br",{})]})})]}),Object(d.jsx)(Te,{elementReportData:t})]})})})};var Me=function(e){var t=e.elementUsesReportShow,a=e.projectNameForReportModal,c=e.projectIdForReportModal,n=Object(m.b)(),r=Object(o.g)(),l=Object(s.useRef)(),j=Object(m.c)((function(e){return e.expense.allElementReport})),b=Object(s.useState)(!0),p=Object(x.a)(b,2),u=p[0],h=p[1],g=Object(s.useState)("n/a"),N=Object(x.a)(g,2),y=(N[0],N[1],Object(s.useState)("n/a")),v=Object(x.a)(y,2),R=v[0],D=v[1];return Object(s.useEffect)((function(){0==u&&(w(),r("/login"))}),[u]),Object(s.useEffect)((function(){0!=t&&(n(ie.actions.getElementUsesSlice(!1)),n(function(e){return function(t){var a=i();O.a.post("https://constructionapi.sabbirinfo.com/getElementUses",e.data,{headers:a}).then((function(e){"success"==e.data.status?t(ie.actions.getElementUsesSlice(e.data)):f("no data found")})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){f("something went wrong"),console.log(t)}}))}}({data:{projectId:c},setLogStatus:h})))}),[t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(S.a,{children:Object(d.jsxs)(C.a,{lg:3,md:3,sm:4,xs:12,children:[Object(d.jsx)("h5",{children:"Choose a material : "}),Object(d.jsx)(E.a,{children:Object(d.jsxs)(E.a.Select,{onChange:function(e){var t=e.target[e.target.selectedIndex].getAttribute("data-index");D("n/a"!=t?j.usesData[t].expences:"n/a")},"aria-label":"Default select example",children:[Object(d.jsx)("option",{"data-index":"n/a",selected:!0,children:"please choose"}),0!=j&&j.usesData.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("option",{"data-index":t,value:"1",children:e.item_name})})}))]})})]})}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"elementUsesTable",children:Object(d.jsx)(Te,{elementReportData:R})}),Object(d.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(d.jsx)(ue.a,{pageStyle:"{ margin: .5in 0in }",trigger:function(){return Object(d.jsx)(_.a,{children:"Print"})},content:function(){return l.current}})}),Object(d.jsx)(ke,{printRef:l,projectNameForReportModal:a,elementReportData:R})]})};var Ie=function(e){var t=e.projectReportShow,a=void 0!==t&&t,c=e.setProjectReportShow,n=e.projectIdForReportModal,r=e.projectNameForReportModal,l=Object(m.b)(),j=Object(o.g)(),b=Object(m.c)((function(e){return e.expense.projectForReport})),p=Object(s.useState)("Daily report"),u=Object(x.a)(p,2),h=u[0],g=u[1],N=Object(s.useState)(!1),y=Object(x.a)(N,2),R=y[0],D=y[1],F=Object(s.useState)(!1),E=Object(x.a)(F,2),_=E[0],A=E[1],T=Object(s.useState)(!0),k=Object(x.a)(T,2),M=k[0],I=k[1],P=Object(s.useState)(!1),L=Object(x.a)(P,2),U=L[0],B=L[1],G=Object(s.useState)(!1),q=Object(x.a)(G,2),H=q[0],J=q[1],W=Object(s.useState)(!1),Y=Object(x.a)(W,2),Q=Y[0],V=Y[1],X=Object(s.useState)(!0),$=Object(x.a)(X,2),K=$[0],Z=$[1],ee=Object(s.useState)(!1),te=Object(x.a)(ee,2),ae=te[0],se=te[1],ce=Object(s.useState)((new Date).setDate((new Date).getDate()-7)),ne=Object(x.a)(ce,2),re=ne[0],le=ne[1],oe=Object(s.useState)(new Date),de=Object(x.a)(oe,2),je=de[0],be=de[1],xe=Object(s.useState)((new Date).setDate((new Date).getDate()-7)),me=Object(x.a)(xe,2),pe=me[0],ue=me[1],he=Object(s.useState)(new Date),Oe=Object(x.a)(he,2),ge=Oe[0],Se=Oe[1];return Object(s.useEffect)((function(){0==K&&(w(),j("/login"))}),[K]),Object(s.useEffect)((function(){var e=new Date(re),t=e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate(),s=new Date(je),c=s.getUTCFullYear()+"-"+(s.getUTCMonth()+1)+"-"+s.getUTCDate();1==M&&1==a&&(A(!1),D(!1),l(function(e){return function(t){var a=i();O.a.post("https://constructionapi.sabbirinfo.com/getDailyExpense",{projectId:e.projectId,fromDate:e.fromDate,toDate:e.toDate},{headers:a}).then((function(e){200==e.status&&t(ie.actions.getProjectForReportSlice(e.data))})).catch((function(t){try{console.log(t),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong with print")}catch(a){f("something went wrong print")}}))}}({setLogStatus:Z,projectId:n,fromDate:t,toDate:c})))}),[a,M,re,je]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(z.a,{className:"expenseModal",fullscreen:!0,show:a,onHide:function(){se(!1),I(!0),c(!1),B(!1)},children:[Object(d.jsx)(z.a.Header,{closeButton:!0,children:Object(d.jsxs)(z.a.Title,{children:[h," ",ae," ",n]})}),Object(d.jsx)(z.a.Body,{children:Object(d.jsx)(v.a,{className:"px-0",fluid:!0,children:Object(d.jsxs)(S.a,{className:"",children:[Object(d.jsx)(C.a,{lg:2,md:3,sm:3,xs:3,style:{minHeight:"87vh",position:"relative"},className:" bg-white ",children:Object(d.jsx)(fe,{setUpdateComponentShow:se,setModalName:g,setDailyReportShow:I,setElementUsesReportShow:B,setSummeryReportShow:J,setDetailReportShow:V})}),1==M&&Object(d.jsx)(C.a,{lg:10,md:9,sm:9,xs:9,className:"",children:Object(d.jsxs)("div",{className:"bg-white reportContentWreapper mt-2",children:[Object(d.jsx)(Ne,{endDate:je,setEndDate:be,setStartDate:le,startDate:re,projectNameForReportModal:r}),Object(d.jsx)("hr",{className:"mt-0"}),Object(d.jsxs)(S.a,{className:"ms-1",children:[Object(d.jsxs)(C.a,{className:"me-0 pe-1",lg:6,md:6,sm:12,xs:12,children:[Object(d.jsx)(ye,{setBillId:A,setExpenseDetailForReport:D,projectsForReport:b}),Object(d.jsx)("hr",{className:"mt-0 pt-0"})]}),Object(d.jsx)(C.a,{className:"ms-0 ps-0",lg:6,md:6,sm:12,xs:12,children:Object(d.jsx)(ve,{billId:_,projectNameForReportModal:r,projectIdForReportModal:n,setModalName:g,setDailyReportShow:I,setUpdateComponentShow:se,expenseDetailForReport:R})})]})]})}),1==U&&Object(d.jsx)(C.a,{lg:10,md:9,sm:9,xs:9,className:"mt-2",children:Object(d.jsxs)("div",{className:"bg-white reportContentWreapper px-2",children:[Object(d.jsx)(Ae,{projectNameForReportModal:r}),Object(d.jsx)("hr",{className:"mt-0 pt-0"}),Object(d.jsx)(Me,{projectNameForReportModal:r,projectIdForReportModal:n,elementUsesReportShow:U})]})}),1==H&&Object(d.jsx)(C.a,{lg:10,md:9,sm:9,xs:12,className:"",children:Object(d.jsx)("div",{className:"bg-white reportContentWreapper reportContentWreapper",children:Object(d.jsx)("h2",{children:"Summery Report"})})}),1==Q&&Object(d.jsx)(C.a,{lg:10,md:9,sm:9,xs:9,className:"mt-2",children:Object(d.jsxs)("div",{className:"bg-white reportContentWreapper",children:[Object(d.jsx)(_e,{projectIdForReportModal:n,detailReportShow:Q,startDate:pe,endDate:ge,setStartDate:ue,setEndDate:Se,projectNameForReportModal:r}),Object(d.jsx)("hr",{className:"mt-0"}),Object(d.jsx)(Ee,{projectNameForReportModal:r,detailReportStartDate:pe,detailReportEndDate:ge})]})}),1==ae&&Object(d.jsx)(C.a,{lg:10,md:9,sm:9,xs:9,className:"",children:Object(d.jsx)("div",{className:"bg-white reportContentWreapper",children:Object(d.jsx)(De,{updateComponentShow:ae,projectIdForReportModal:n,expenseDetailForReport:R,billId:_})})})]})})})]})})};function Pe(e){var t=Object(o.g)(),a=i().permission,c=Object(m.b)(),n=Object(m.c)((function(e){return e.expense.ProjectForExpense})),r=Object(s.useState)(!1),l=Object(x.a)(r,2),j=l[0],b=l[1],p=Object(s.useState)(""),u=Object(x.a)(p,2),h=u[0],g=u[1],N=Object(s.useState)(!0),y=Object(x.a)(N,2),v=y[0],S=y[1],R=Object(s.useState)(!1),D=Object(x.a)(R,2),F=D[0],C=D[1],E=Object(s.useState)(""),A=Object(x.a)(E,2),T=A[0],k=A[1],M=Object(s.useState)(!1),I=Object(x.a)(M,2),P=I[0],L=I[1],U=Object(s.useState)(""),B=Object(x.a)(U,2),G=B[0],q=B[1],H=Object(s.useState)(""),z=Object(x.a)(H,2),J=z[0],W=z[1];Object(s.useEffect)((function(){0==v&&(w(),t("/login")),c(ie.actions.allProjectForExpense([])),c(function(e){return function(t){e&&e.setLoader(!0);var a=i();O.a.get("https://constructionapi.sabbirinfo.com/getProjectsForExpense",{headers:a}).then((function(a){0!=a.data?(t(ie.actions.allProjectForExpense(a.data)),e&&e.setLoader(!1)):(e&&e.setLoader(!1),f("No data found"))})).catch((function(t){try{console.log(t),e&&e.setLoader(!1),401==t.response.status&&e&&e.setLogStatus(!1),f("something went wrong")}catch(a){e.setLoader&&e.setLoader(!1),f("something went wrong"),console.log(t)}}))}}({setLogStatus:S,setLoader:C}))}),[v]);var Y=n,Q=[{dataField:"id",text:"#",headerStyle:function(e,t){return{width:"60px",height:"30px",textAlign:"center"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}},formatter:function(e,t,a){return Object(d.jsx)("section",{children:a+1})}},{dataField:"project_name",text:"Project Name",headerStyle:function(e,t){return{textAlign:"center"}},style:function(e,t){return{padding:"7px 3px"}}},{dataField:"owner_phn",text:"Client phone",headerStyle:function(e,t){return{textAlign:"center",width:"130px"}},style:function(e,t){return{textAlign:"center",padding:"7px 3px"}}},{dataField:"project_location",text:"Project location",headerStyle:function(e,t){return{textAlign:"center",width:"180px"}},style:function(e,t){return{textAlign:"center",padding:"7px 3px"}}},{dataField:"start_date",text:"start date",headerStyle:function(e,t){return{textAlign:"center",width:"100px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}}},{dataField:"deadline",text:"End date",headerStyle:function(e,t){return{textAlign:"center",width:"100px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}}},{dataField:"status",text:"status",headerStyle:function(e,t){return{textAlign:"center",width:"80px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}},formatter:function(e,t){return Object(d.jsx)("section",{children:"1"==e?Object(d.jsx)("span",{className:"bg-warning text-white",children:"pending"}):"0"==e?Object(d.jsx)("span",{className:"bg-success text-white",children:"finished"}):Object(d.jsx)("span",{className:"bg-danger text-white",children:"deni"})})}},{dataField:"Action",isDummyField:!0,text:"Action",headerStyle:function(e,t){return{textAlign:"center",width:"120px"}},style:function(e,t){return{textAlign:"center",padding:"7px 0"}},formatter:function(e,t){return Object(d.jsxs)(d.Fragment,{children:[a&&"1"==JSON.parse(a)[0].expense_write?Object(d.jsx)(_.a,{onClick:function(e){var a,s;a=t.id,s=t.project_name,k(s),g(a),b(!0)},className:"p-0 me-1",children:"expense"}):Object(d.jsx)(_.a,{className:"p-0 disabled me-1",children:"expense"}),Object(d.jsx)(_.a,{onClick:function(e){!function(e,t){W(t),q(e),L(!0)}(t.id,t.project_name)},className:"p-0 btn-primary",children:"report"})]})}}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"pb-2 projectTableWrapper ",children:Object(d.jsx)(te.a,{striped:!0,keyField:"id",data:Y,columns:Q})}),Object(d.jsx)(se,{loader:F}),Object(d.jsx)(ge,{projectName:T,expenseProjectId:h,addExpenseModal:j,setAddExpenseModal:b}),Object(d.jsx)(Ie,{projectNameForReportModal:J,projectIdForReportModal:G,projectReportShow:P,setProjectReportShow:L})]})}var Le=Object(s.memo)(Pe);var Ue=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"pt-2",children:Object(d.jsxs)("h5",{children:[Object(d.jsx)("i",{className:"fas fa-home"})," Home / Project expense"]})}),Object(d.jsx)("hr",{})]})};var Be=function(e){var t=Object(o.g)();return Object(s.useEffect)((function(){i()&&"1"!=JSON.parse(i().permission)[0].expense_read&&t("/")}),[]),i()&&"1"==JSON.parse(i().permission)[0].expense_read?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(v.a,{className:"bg-white mt-2",children:[Object(d.jsx)(Ue,{}),Object(d.jsx)(Le,{})]}),Object(d.jsx)(g.a,{})]}):Object(d.jsx)("div",{children:t("/")})};var Ge=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(b,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(y,{children:[Object(d.jsx)(N,{}),Object(d.jsx)(Be,{})]})]})})};var qe=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{path:"/",element:Object(d.jsx)(o.a,{to:"/projects"})}),Object(d.jsx)(o.b,{path:"/login",element:Object(d.jsx)(H,{})}),Object(d.jsx)(o.b,{path:"/projects",element:Object(d.jsx)(oe,{})}),Object(d.jsx)(o.b,{path:"/projectExpense",element:Object(d.jsx)(Ge,{})})]})})};var He=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(qe,{})})})},ze=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,317)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))},Je=Object(p.a)({devTools:!0,reducer:{login:u.reducer,projects:Y.reducer,expense:ie.reducer}});a(260),a(261),a(262);r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(m.a,{store:Je,children:Object(d.jsx)(He,{})})}),document.getElementById("root")),ze()}},[[264,1,2]]]);
//# sourceMappingURL=main.2b535534.chunk.js.map